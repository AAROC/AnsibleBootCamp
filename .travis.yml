---
# This is an example .travis.
# If you've forked this repo, please make sure  to change the notifications section
language: python
sudo: required
services: docker
env:
  matrix:
    - OS=centos6
    - OS=ubuntu14.04
    - OS=ubuntu16.10
    - OS=centos7
before_install:
  - docker pull aaroc/ansible-ready-${OS}

install:
  - docker run -v $PWD:$PWD -w $PWD aaroc/ansible-ready-${OS}  ansible-playbook -c local -i handson/inventory.localhost handson/lesson1.yml
  - docker run -v $PWD:$PWD -w $PWD aaroc/ansible-ready-${OS} ansible-playbook -c local -i handson/inventory.localhost handson/lesson3.yml
  - sudo pip install ansible

script:
  - cd course-preparation/Ansible
  - ansible-playbook -c local -i localhost, -C training-lab.yml -e site_name=testing
  - ansible-playbook -c local -i localhost, training-lab.yml -e site_name=testing

notifications:
  slack:
    rooms:
      - ansible4devops2015:It5SDeYANNXDtXh6YmbmO6Rh#testing
    on_success: always
    on_failure: always
    on_start: always
